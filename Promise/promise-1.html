<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <h1>How to make your own promise?</h1>
    <h2></h2>
    <p>provide - resolve , reject</p>
    <div class="promise-container"></div>
    <script>
      let h2 = document.querySelector("h2");

      function delayFunction(time) {
        // resolve the promise

        console.log(h2);
        // return a new promise which is a function that handles resolution and rejection
        return new Promise((resolve, reject) => {
          if (isNaN(time)) {
            reject(
              new Error("isNaN() is not valid in making your own Promises")
            );
          }
          setTimeout(resolve, time);
        });
      }
      function createHello(content) {
        h2.innerText = `${content}`;
        console.log(h2);
      }
      function init() {
        delayFunction(1000)
          .then(() =>
            createHello(
              `creating elements through 
              *** return new Promise((resolve, reject)=>) ***`
            )
          )
          .catch((err) => console.error(err));

        //   delayFunction("is NaN")
        //     .then(() => hello("whatsup"))
        //     .catch((err) => console.error(err)); // isNaN() is not valid in making your own Promises
      }

      init();
    </script>
  </body>
</html>
